<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø¨ÙƒØ© Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ Ø§Ù„Ù‚ÙˆÙŠ</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f0f0f0; text-align: center; padding: 20px; }
        h1 { color: #333; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        button { padding: 10px 20px; font-size: 18px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 10px; }
        button:hover { background: #0056b3; }
        #results { margin-top: 20px; font-size: 18px; }
        .good { color: green; }
        .medium { color: orange; }
        .bad { color: red; }
        img { max-width: 100%; height: auto; margin: 10px 0; border-radius: 8px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ø§Ø®ØªØ¨Ø§Ø± Ø´Ø¨ÙƒØ© Ø§Ù„ÙˆØ§ÙŠ ÙØ§ÙŠ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ</h1>
        <p>Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø¹Ø´Ø§Ù† ØªØ¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„</p>
        
        <button onclick="runTests()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø´Ø§Ù…Ù„</button>
        
        <div id="results"></div>
    </div>

    <script>
        async function runTests() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<p>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±... Ø§Ù†ØªØ¸Ø± Ø´ÙˆÙŠØ© ğŸš€</p>';

            // 1. Ø§Ø®ØªØ¨Ø§Ø± Ù‚ÙˆØ© Ø§Ù„Ø¥Ø´Ø§Ø±Ø© (WebRTC - ÙŠØ´ØªØºÙ„ ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©)
            let signalStrength = 'ØºÙŠØ± Ù…ØªÙˆÙØ± (Ø¬Ø±Ø¨ Ù…ØªØµÙØ­ Chrome Ø£Ùˆ Edge)';
            try {
                const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
                if (connection && connection.downlink) {
                    signalStrength = `Ø³Ø±Ø¹Ø© ØªÙ‚Ø±ÙŠØ¨ÙŠØ©: ${connection.downlink} Mbps`;
                }
            } catch (e) {}

            // Ø§Ø®ØªØ¨Ø§Ø± Ø£Ø¯Ù‚ Ø¨Ù€ Navigator API Ø¥Ø°Ø§ Ù…ØªÙˆÙØ±
            if ('connection' in navigator) {
                const conn = navigator.connection;
                signalStrength = `Ù†ÙˆØ¹ Ø§Ù„Ø§ØªØµØ§Ù„: ${conn.effectiveType} | Ù‚ÙˆØ© ØªÙ‚Ø±ÙŠØ¨ÙŠØ©: ${conn.downlink} Mbps`;
            }

            // 2. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ (Download + Upload + Ping)
            let speedResult = '';
            try {
                // Ping Ø£ÙˆÙ„Ø§Ù‹
                const pingStart = performance.now();
                await fetch('https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_92x30dp.png', {cache: 'no-cache'});
                const ping = Math.round(performance.now() - pingStart);
                
                // Download Test (ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù ÙƒØ¨ÙŠØ± Ù†Ø³Ø¨ÙŠÙ‹Ø§)
                const downloadStart = performance.now();
                const response = await fetch('https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png?' + Date.now(), {cache: 'no-cache'});
                const blob = await response.blob();
                const downloadTime = (performance.now() - downloadStart) / 1000; // Ø«ÙˆØ§Ù†ÙŠ
                const downloadSize = blob.size / 1024 / 1024; // MB
                const downloadSpeed = (downloadSize * 8 / downloadTime).toFixed(2); // Mbps

                // Upload Test (Ø¨Ø³ÙŠØ· - Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª ØµØºÙŠØ±Ø©)
                const uploadData = new Blob([new ArrayBuffer(1 * 1024 * 1024)]); // 1MB
                const uploadStart = performance.now();
                await fetch('https://httpbin.org/post', {method: 'POST', body: uploadData});
                const uploadTime = (performance.now() - uploadStart) / 1000;
                const uploadSpeed = (1 * 8 / uploadTime).toFixed(2); // Mbps

                speedResult = `
                    <p><strong>Ping:</strong> ${ping} ms ${ping < 50 ? '<span class="good">(Ù…Ù…ØªØ§Ø²)</span>' : ping < 100 ? '<span class="medium">(ÙƒÙˆÙŠØ³)</span>' : '<span class="bad">(Ø¶Ø¹ÙŠÙ)</span>'}</p>
                    <p><strong>Ø³Ø±Ø¹Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ (Download):</strong> ${downloadSpeed} Mbps</p>
                    <p><strong>Ø³Ø±Ø¹Ø© Ø§Ù„Ø±ÙØ¹ (Upload):</strong> ${uploadSpeed} Mbps</p>
                `;
            } catch (e) {
                speedResult = '<p class="bad">ÙØ´Ù„ ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø³Ø±Ø¹Ø© (Ø¬Ø±Ø¨ Ø§ØªØµØ§Ù„ Ø£ÙØ¶Ù„ Ø£Ùˆ Ù…ÙˆÙ‚Ø¹ Ù…Ø«Ù„ speedtest.net)</p>';
            }

            // 3. Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© (SSID ÙˆØºÙŠØ±Ù‡ - Ù…Ø­Ø¯ÙˆØ¯ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª)
            let networkInfo = 'ØºÙŠØ± Ù…ØªÙˆÙØ± (Ù„Ø£Ø³Ø¨Ø§Ø¨ Ø£Ù…Ø§Ù† Ø§Ù„Ù…ØªØµÙØ­)';
            try {
                // ÙŠØ´ØªØºÙ„ ÙÙ‚Ø· ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª Ø£Ùˆ Ù…Ø¹ HTTPS
                if (navigator.userAgent.includes('Chrome')) {
                    networkInfo = 'Ø§ÙØªØ­ about://wifi ÙÙŠ Chrome Ù„ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØªØ±';
                }
            } catch (e) {}

            resultsDiv.innerHTML = `
                <h2>Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</h2>
                <p><strong>Ù‚ÙˆØ© Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©:</strong> ${signalStrength}</p>
                ${speedResult}
                <p><strong>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ©:</strong> ${networkInfo}</p>
                <p>Ù†ØµÙŠØ­Ø©: Ù„Ùˆ Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø¶Ø¹ÙŠÙØ©ØŒ Ù‚Ø±Ø¨ Ù…Ù† Ø§Ù„Ø±Ø§ÙˆØªØ± Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Repeater!</p>
            `;
        }
    </script>
</body>
</html>